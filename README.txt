# Professional A/B Test Analyzer (Final Edition)

A professional-grade, Streamlit-based A/B testing suite designed for Conversion Rate Optimization (CRO) specialists, Product Managers, and Data Scientists. This tool combines rigorous statistical analysis (Frequentist & Bayesian) with AI-powered interpretation to deliver actionable business insights.

## Key Features

### 1. Robust Statistical Engine
* **Frequentist Analysis:** Calculates Z-score, P-values, and Confidence Intervals (95%) for Conversion Rates.
* **Bayesian Risk Analysis:** Computes the "Probability to be Best" (PBB) and "Expected Loss" (Risk) to help you decide when to stop a test.
* **Sequential Testing:** Includes a "Peeking Penalty" calculator (Pocock correction) to adjust significance thresholds if you check results frequently.

### 2. Dual-Mode Interpretation
* **Smart Analysis (Free):** A rule-based logic engine that generates instant, text-based Executive Summaries, Trade-off analyses, and Recommendations without needing an API key.
* **AI Analysis (LLM-Powered):** Integrated support for OpenAI (GPT-4o) and DeepSeek (R1). It acts as a Senior Data Scientist, interpreting complex graphs and writing professional stakeholder reports.

### 3. Advanced Visualizations
* **Strategic Matrix:** A scatter plot visualizing the trade-off between Volume (CR) and Value (AOV).
* **Bayesian Probability Density:** Visualizes the overlap and certainty between Control and Variation.
* **Bootstrap Distribution:** A histogram of 10,000 simulated differences to visualize the confidence interval.
* **Box Plots:** Displays the variability and spread of conversion rates.

### 4. Automated Health Checks
* **SRM Detection:** Automatically runs a Chi-Square test to detect Sample Ratio Mismatch (SRM) and flags invalid tests.
* **Duration Validation:** Warns if a test has run for too few days (<7) or is at risk of novelty effects.

---

## Installation & Setup

### Prerequisites
* Python 3.8 or higher

### 1. Clone or Download the Repository
Save the app.py and requirements.txt files to a folder.

### 2. Install Dependencies
Open your terminal/command prompt and run:
pip install -r requirements.txt

requirements.txt content:
streamlit
numpy
matplotlib
scipy
statsmodels
openai

### 3. Run the Application
streamlit run app.py

The application will open automatically in your default web browser (usually at http://localhost:8501).

---

## How to Use

### Step 1: Input Experiment Data
Use the sidebar to enter your test data:
* **Control/Variation Users:** Total number of unique visitors.
* **Conversions:** Unique users who performed the goal action.
* **Revenue:** Total revenue generated by that group.
* **Products Sold:** Total items sold (for product velocity metrics).
* **Days Ran:** Duration of the experiment.

### Step 2: Analyze the Dashboard
* **Primary KPIs:** Check the top row for Uplift and Statistical Significance (Z-test).
* **Health Checks:** Look for the badges ensuring your test duration and traffic split (SRM) are healthy.
* **Visualizations:** Click through the tabs (Strategic Matrix, Bayesian, etc.) to explore the data visually.

### Step 3: Generate a Report
* **Smart Analysis:** Go to the "Smart Analysis" tab, enter your hypothesis, and click Generate. (No API Key needed).
* **AI Analysis:** Go to the "AI Analysis" tab, select your provider (OpenAI or DeepSeek), enter your API Key, and click Generate.
    * Note: API keys are not saved; they are only used for the current session.

### Step 4: Stopping & Sequential
If you are monitoring a live test, use the "Stopping & Sequential" tab to check:
1.  **Bayesian Risk:** Is the risk of switching low enough (<1%) to stop?
2.  **Peeking Penalty:** Have you checked the test too many times? Enter the number of "Peeks" to see your adjusted P-value threshold.

---

## Statistical Methodology

* **Significance Test:** Two-proportion Z-test (Pooled).
* **Confidence Intervals:** 95% Confidence Interval using the Normal Approximation.
* **SRM Check:** Chi-Square Goodness of Fit test (expected 50/50 split).
* **Bayesian Analysis:** Monte Carlo simulation (50,000 samples) using Beta(alpha, beta) distributions.
    * Prior: Uninformative (Alpha=1, Beta=1).

---

## Disclaimer
This tool provides statistical guidance but should not be the sole basis for critical business decisions. Always validate data integrity before analysis. The creators assume no liability for decisions made based on these results.

---

Built with Streamlit & Python.
